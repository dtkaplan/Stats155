February 6, 2013 Class Notes
--------------------------
```{r include=FALSE}
require(mosaic, quietly=TRUE)
```

## Study Guide for Quiz

[Link to Study Guide](https://dl.dropboxusercontent.com/u/5098197/Stat155Fall2013/ThingsWithHints/Quiz-1-R-Study-Guide.html)

Note to instructor: Remember to strip out the CSS syntax highlighting formats in order to enable the hints.



### Questions about height

It's not silly to ask, "How tall are you?"

But it is silly to ask, "Why are you the height that you are?"

Or, when comparing two people, "Why are your heights different in the way they are?"

#### Why are these questions silly?

* Because you have only one height, and any number of explanations might account for it, e.g. the Aristotelian idea that you head toward your proper place.

#### The statistical question is

What accounts for the variation of height from person to person in a group of people?

Some possible factors:
* Nutrition
* Parents' height
* Ethnicity
* Illness

There are still lots of potential theories that might account for height in terms of these factors, but with a large group the possible theories will be severely constrained by the data.  

### Starting R with Data and Graphics

* [PDF handout](../In-Class-Activities/StartRwithGraphics/R-stats-intro.pdf)
* [Rmd template for your report](../Notes/Day-04/StartRwithGraphics-template)

### Task for today

Ways to describe variation and, particularly, ways to quantify it.

```{r}
g = fetchData("Galton")
```

#### On Wednesday, we looked at various graphical displays

* histogram
* density plot (and the dot plot below it)
* box-and-whiskers plot


## Distributions and Standard Deviation
## Numerical summaries of distributions 

A number describes one thing.  You need to know what is the one thing that each of these numbers is describing in  terms of a distribution:

* mean
* standard deviation
* variance
* IQR
* median
* minimum
* maximum
* a percentile at level p

Some numerical descriptions involve two numbers:
* range
* 95% coverage interval
* 50% (or whatever coverage level)

### Computing these

The operators are `mean`, `median`, `sd`, `var`, `IQR`, `qdata`, `max`, `min`, `range`, `confint`

Examples:
```{r}
mean(height, data=g)
sd(height, data=g)
```

Most of the operators we will use throughout the course will work this way.  They were designed to do so by `mosaic`.  But some operators won't.  So, sometimes you'll see me use this syntax:

```{r eval=FALSE}
with(data=Galton, someOperationNotInMosaic(arguments and variables))
```





### Interpreting these Measures

It can be helpful to think of arranging these various quantities along three main  conceptual dimensions:

#### Location, Scatter, and Range

* **Location of Center**: mean, median
* **Size of Scatter**: standard deviation, variance, IQR
* **Location of Range**: max, min, 95% coverage

Sometimes you'll be interested in a location that's not Central, e.g.
* **Non-central Location**: a percentile

#### Inclusion and robustness

* All inclusive, but sensitive to outliers. ("non-robust")
* All inclusive, but not sensitive to outliers ("robust")
* Plausible: leaves out the very extremes
* Mainstream: emphasizes the middle.


### Example: One-Day Changes in Stock Prices

The stock market goes up and down every day.  By how much?  
```{r}
apple = fetchData("M155/Stocks/aapl.csv")
netflix = fetchData("M155/Stocks/nflx.csv")
facebook = fetchData("M155/Stocks/fb.csv")
```

* What are the names of the variables? What is a case?
* Create a new variable, `change` that is the ratio of the closing price to the opening price.
```{r}
apple = transform(apple, change=Close/Open)
netflix = transform(netflix, change=Close/Open)
facebook = transform(facebook, change=Close/Open)
```

What's the distribution?  What's a typical value?  Do the stocks have different typical values?  What does the standard deviation tell you here?


#### Aside:

If you want to plot out the values versus time, you need to turn the Date variable into a format that can be used by R.  Here's how:
```{r}
fetchData("getDJIAdata.R")
apple = fixStockDate(apple)
netflix = fixStockDate(netflix)
facebook = fixStockDate(facebook)
```

### Activity: Sketch Some Distributions

* Household Income in the US
* Household Net Worth in the US
* College tuition ([resource](http://centerforcollegeaffordability.org/archives/6728))
* Number of courses completed by Macalester students.
* Age of Macalester students.
* House prices
* Body weight of adults
* SAT scores
* Human gestational length
* Infant birth weight


You might want to start with an estimate of the mean or median and the 95% coverage interval.  
Also, think about the tails of the distribution.  
* Are they likely to stretch out one way or the other in an asymmetric way, that is whether the distribution is likely to be skew one way or the other.
* Are they likely to be truncated.
* From your sketch, estimate the standard deviation and the IQR.  Is one easier to estimate than the other.


Spend 3 minutes using the web to see if you can get any confirmation from the Internet for your estimates.

* <image src="http://upload.wikimedia.org/wikipedia/commons/a/aa/Distribution_of_Annual_Household_Income_in_the_United_States.png" width="80%">
* [Distribution of income](http://en.wikipedia.org/wiki/Wealth_in_the_United_States#Distribution_of_wealth) --- Why is the mean so much larger than the median?  What would the box-and-whiskers plot look like?

### Measurement and measurement bias
* Instrumental or procedural error. Measure heights of people with a ruler, but with the ruler not level.
* Subject or response bias: "How many of you are intravenous drug users?"
* Global warming. Measurement gauges have been encroached on by urbanization.


### Sampling and sampling bias
* Self-selection bias for surveys
* Problems with convenience samples: e.g., interview students at library on Friday night about their study habits
* Selection and survival bias: we don't see the kids who drop out of school, tracking a random sample of Alzheimer's patients to see how long they survive --- you're more likely to sample those who survive a long time.

### Random sampling
* Sampling frame and formal methods.  Use `sample` 

#### In-Class Activity

* Sampling Bias Activity `s = select.books()` which needs to be proceeded by
```{r}
fetchData("simulate.r")
```

[Instructor's write up](../Activities/SelectingLibraryBooks.html)



### Descriptions of Distributions

Main points
* Use the density itself if you are interested in the distribution.
* The smallest meaningful description of a distribution includes at least two attributes, which can be conveyed in two different but closely related ways:
    * (1) center and (2) width
    * (1) lower end of range to (2) upper end of range
* There is a conceptual trade-off between comprehensiveness and relevance.  
    * To have a comprehensive description, you would include the full range, for 100% of the distribution.  
    * But this would include even the outliers, members of the distribution that are not at all representive of the bulk of the distribution.
* To resolve the trade-off, it's typical to consider the central mass of the distribution.  Two common ways:
    1. The 50% coverage interval
    2. The 95% coverage interval.
* For a rough and ready measure of the center and width of a distribution, we'll use the **mean** and **standard deviation**.  These are not without difficulty (e.g., they are not robust to outliers) but they have very nice mathematical properties that simplify interpretation in complicated systems.  It turns out that we can avoid the difficulties without sacrificing much in simplicity of interpretation by some simple strategies, e.g. the rank transform.  We'll talk more about this when we have mastered interpretation in settings without problems relating to outliers.


## Weekly Quiz 

[link for instructor](Dropbox/Stats155Fall2013/155InstructorsShared/DTK/Quizzes/Quiz-1-R.Rnw)
