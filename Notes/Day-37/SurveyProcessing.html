<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Processing Survey Data</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h1>Processing Survey Data</h1>

<h4>Statistical Modeling: A Fresh Approach</h4>

<h4>Daniel Kaplan</h4>

<p>Congratulations!  Your survey spreadsheet has been filling in.  Now it&#39;s time to analyze your data.</p>

<p>You already have the modeling skills needed to draw conclusions from your survey data.  But before you can build models, you have to put the survey information into a suitable form.  This is not difficult, but it can be a bit tedious.  The good news is that you can set up the computer to do this for you.  </p>

<p>To get started, let&#39;s work with a bit of data that we will share, coming from a Google Form.  You&#39;ll read in your own data in the same way, but for demonstration, use this example data.</p>

<iframe src="https://docs.google.com/forms/d/12G023bq9YoqifZwGW9-DBg1doZxEQ3F5sUC5LoNR9Cw/viewform?embedded=true#start=openform" width="500" height="500" frameborder="0" marginheight="0" marginwidth="0">Loading&hellip;</iframe>

<p>First, look at the questions that were asked and the responses.  These are meant to be similar to typical questions and responses in the student forms.</p>

<h3>Read in the &ldquo;Raw&rdquo; Data from Google</h3>

<p>You&#39;ll need the &ldquo;publish as CSV&rdquo; link from Google.  Give this to <code>fetchGoogle()</code> and you can read in your data.</p>

<pre><code class="r">myCSVLink = &quot;https://docs.google.com/spreadsheet/pub?key=0Am13enSalO74dG5pakswQTR2OGdubnl5ZUM4c0kwMVE&amp;single=true&amp;gid=0&amp;output=csv&quot;
d = fetchGoogle(myCSVLink)
### Put in NA for empty or blank answers
for (k in 1:length(d)) {
    temp = d[[k]]
    temp[temp %in% c(&quot;&quot;, &quot; &quot;, &quot;  &quot;, &quot;   &quot;)] = NA
    d[k] = temp
}
</code></pre>

<h3>Fix the Names</h3>

<p>The names of variables generated by Google Form are too verbose.  </p>

<pre><code class="r">origNames = names(d)
origNames
</code></pre>

<pre><code>## [1] &quot;Timestamp&quot;                                                                                      
## [2] &quot;How.strong.are.your.computer.programming.skills.&quot;                                               
## [3] &quot;In.what.division.is.your.major.or.planned.major.&quot;                                               
## [4] &quot;Do.you.think.that.programming.skills.are.important...Web.pages.&quot;                                
## [5] &quot;Do.you.think.that.programming.skills.are.important...Spreadsheets.&quot;                             
## [6] &quot;Do.you.think.that.programming.skills.are.important...Data.analysis..such.as.R..&quot;                
## [7] &quot;Do.you.think.that.programming.skills.are.important...Systems.programming..e.g..JAVA..C.........&quot;
## [8] &quot;What.keeps.you.from.studying.more.about.computing.&quot;
</code></pre>

<p>As you can see, there are 8 different variables.  You&#39;re going to rename each of them.  Use the following statements to do so:</p>

<pre><code class="r">names(d)[2] = &quot;SkillLevel&quot;
names(d)[3] = &quot;Division&quot;
names(d)[4] = &quot;Web&quot;
</code></pre>

<p>Make sure to change the number in each line and that you choose an appropriate mnemonic short name.</p>

<h4>TASK 1</h4>

<p>Use this style to complete the change of names, e.g.</p>

<pre><code class="r">names(d)[5] = &quot;Spreadsheet&quot;
# Put the rest of your commands here.
</code></pre>

<p>When you are done, check your work with this statement:</p>

<pre><code class="r">paste(origNames, names(d), sep = &quot;--&gt;&gt;&quot;)
</code></pre>

<pre><code>## [1] &quot;Timestamp--&gt;&gt;Timestamp&quot;                                                                                                                                                                            
## [2] &quot;How.strong.are.your.computer.programming.skills.--&gt;&gt;SkillLevel&quot;                                                                                                                                    
## [3] &quot;In.what.division.is.your.major.or.planned.major.--&gt;&gt;Division&quot;                                                                                                                                      
## [4] &quot;Do.you.think.that.programming.skills.are.important...Web.pages.--&gt;&gt;Web&quot;                                                                                                                            
## [5] &quot;Do.you.think.that.programming.skills.are.important...Spreadsheets.--&gt;&gt;Spreadsheet&quot;                                                                                                                 
## [6] &quot;Do.you.think.that.programming.skills.are.important...Data.analysis..such.as.R..--&gt;&gt;Do.you.think.that.programming.skills.are.important...Data.analysis..such.as.R..&quot;                                
## [7] &quot;Do.you.think.that.programming.skills.are.important...Systems.programming..e.g..JAVA..C.........--&gt;&gt;Do.you.think.that.programming.skills.are.important...Systems.programming..e.g..JAVA..C.........&quot;
## [8] &quot;What.keeps.you.from.studying.more.about.computing.--&gt;&gt;What.keeps.you.from.studying.more.about.computing.&quot;
</code></pre>

<p>Make sure that you&#39;re satisfied with the names.  If not, go back an alter your name statements.</p>

<h3>Quantitative Variables</h3>

<p>You may have had some variables that are numeric, where the <strong>only</strong> options available to the user were numbers.  Check these to make sure that they have been read in properly.  If not, talk to your instructor to find out an appropriate way of correcting the situation.  (We&#39;ll keep the examples of things that go wrong to create templates for future students.)</p>

<p>In our example data, only the <code>SkillLevel</code> variable is quantitative.  Here are two simple checks:</p>

<pre><code class="r">with(d, class(SkillLevel))  # should be &#39;numeric&#39; or &#39;integer&#39;
</code></pre>

<pre><code>## [1] &quot;integer&quot;
</code></pre>

<pre><code class="r">mean(SkillLevel, data = d)
</code></pre>

<pre><code>## [1] NA
</code></pre>

<p>When things go wrong, it&#39;s often because some numerical-similar content was used in the variable.  For instance, suppose that you offer a choice of these options for a variable called <code>HowMany</code>: <em>none</em>, 0, 1, 2, 3, <em>4+</em></p>

<p>When such a column is read in to R, the &ldquo;none&rdquo; and &ldquo;4+&rdquo; are treated as character strings.  Translating these into numbers requires somewhat specialized operations that aren&#39;t difficult but are certainly not among the learning objectives for this course.  To illustrate, the following will do the job on the above:</p>

<pre><code class="r">temp = as.character(d$HowMany)
temp = sub(&quot;\\+&quot;, &quot;&quot;, temp)
temp = sub(&quot;none&quot;, &quot;0&quot;, temp)
d$HowMany = as.numeric(temp)
</code></pre>

<h3>Categorical Variables</h3>

<p>Often, the levels produced by Google Forms are too verbose for convenience.  After all, they were designed for another purpose: to be informative to a human completing your survey.  It&#39;s helpful to change the names to be more convenient for display.  To do this, construct a vector that tells what should be the new level for each existing level.  You need to be careful to get the spelling exactly right.  Also, make sure to list every possible level from your form, even if there are some that nobody selected in your survey.</p>

<pre><code class="r">require(plyr) # just need to do once, like require(mosaic)
levels(d$Division)
</code></pre>

<pre><code>## [1] &quot;&quot;                        &quot;Fine Arts&quot;              
## [3] &quot;Science/Math&quot;            &quot;Social Science Division&quot;
</code></pre>

<pre><code class="r"># check that the spelling matches in the next line
newLevels = c(&quot;Fine Arts&quot;=&quot;Art&quot;,&quot;Science/Math&quot;=&quot;Sci&quot;,
              &quot;Humanities&quot;=&quot;Hum&quot;,&quot;Social Science Division&quot;=&quot;SS&quot;)
</code></pre>

<p>Now you will assign these new levels to your variable:</p>

<pre><code class="r">d$Division = revalue(d$Division, newLevels)
</code></pre>

<pre><code>## The following `from` values were not present in `x`: Humanities
</code></pre>

<pre><code class="r">d$Division = factor(d$Division, levels = newLevels)
</code></pre>

<p>This involves two commands for each variable.  The first changes the names of the levels.  The second does something a little more obscure. It makes sure that the full set of possible levels is available for graphics, models, etc.</p>

<p>You may also want to set the reference level explicitly.  You can do this with a statement of this sort:</p>

<pre><code class="r">relevel(d$Division, ref = &quot;Hum&quot;)
</code></pre>

<pre><code>##  [1] Sci  Art  SS   &lt;NA&gt; SS   SS   &lt;NA&gt; Sci  SS   Sci  Sci  Sci  Sci  Sci 
## [15] Sci  SS   Sci  SS   Sci  SS   Sci  SS   Sci  Sci  SS   Sci  SS   Sci 
## [29] Sci  Sci  SS   SS   SS   Sci  Sci  Sci  Sci  Sci  SS   SS   Sci  SS  
## [43] Sci  Sci  SS   Sci  &lt;NA&gt; Sci  &lt;NA&gt; SS  
## Levels: Hum Art Sci SS
</code></pre>

<p>Make sure to get the spelling right!</p>

<h4>TASK</h4>

<p>Rename the levels of the &ldquo;What keeps you from studying more about computing?&rdquo; question to &ldquo;Boring&rdquo;,&ldquo;Klutz&rdquo;,&ldquo;Useless&rdquo;,&ldquo;Busy&rdquo;,&ldquo;WillDo&rdquo;.  The original names are so complicated that you will do well to cut and paste the output of <code>levels()</code> to seed a new command, then putting in the additional part of the command like <code>=&quot;Interest&quot;</code>.</p>

<h3>Ordinal Variables</h3>

<p>Many of the survey questions are on a <a href="http://en.wikipedia.org/wiki/Likert_scale">Likert Scale</a>.  You will want to simplify the names <strong>and also</strong> to tell R that there is a natural order.  For example, the <code>Web</code> variable in our survey has a natural ordering.  </p>

<p>Here&#39;s the renaming step:</p>

<pre><code class="r">likertLevels = c(&quot;I don&#39;t need&quot;=&quot;None&quot; ,
                 &quot;Helps to know about it&quot;=&quot;Little&quot;, 
                 &quot;Somewhat important in my field&quot;=&quot;Some&quot;,
                 &quot;Very important in my field&quot;=&quot;Very&quot;)
d$Web = revalue(d$Web, likertLevels)
</code></pre>

<p>When you construct the translation (here called <code>likertLevels</code>), make sure to order it in the natural way, from one end to the other.  Here, the order goes &ldquo;None&rdquo;, &ldquo;Little&rdquo;,&ldquo;Some&rdquo;,&ldquo;Very&rdquo;.  You often will be able to use the same translation across multiple variables.</p>

<p>Now, tell R that the variable is ordered:</p>

<pre><code class="r">d$Web = factor(d$Web, ordered = TRUE, levels = likertLevels)
</code></pre>

<p>When you look at the variable, you will see that the level ordering is as specified:</p>

<pre><code class="r">head(d$Web)
</code></pre>

<pre><code>## [1] Some   None   Some   &lt;NA&gt;   Little Very  
## Levels: None &lt; Little &lt; Some &lt; Very
</code></pre>

</body>

</html>

